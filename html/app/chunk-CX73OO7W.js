import{a as b,b as q}from"./chunk-MXQJHEDE.js";import{a as M}from"./chunk-OWNJBPSF.js";import{Aa as c,Ba as D,Ca as f,Fa as h,Ha as y,L as g,P as x,Pa as N,Q as E,X as T,bb as P,ca as n,da as O,fb as k,ha as S,la as w,ma as p,oa as A,pa as v,qa as u,ra as d,sa as a,ta as o,ua as F,va as I,wa as _,xa as C}from"./chunk-OD32AHD5.js";function B(e,t){if(e&1&&(a(0,"li",5),c(1),o()),e&2){let l=t.$implicit;n(),f(" ",l," ")}}var Q=e=>["/article",e],R=(()=>{let t=class t{toggleFavorite(i){this.article.favorited=i,i?this.article.favoritesCount++:this.article.favoritesCount--}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=g({type:t,selectors:[["app-article-preview"]],inputs:{article:"article"},standalone:!0,features:[h],decls:14,vars:8,consts:[[1,"article-preview"],[3,"article"],[1,"pull-xs-right",3,"article","toggle"],[1,"preview-link",3,"routerLink"],[1,"tag-list"],[1,"tag-default","tag-pill","tag-outline"],["class","tag-default tag-pill tag-outline"]],template:function(s,r){s&1&&(a(0,"div",0)(1,"app-article-meta",1)(2,"app-favorite-button",2),_("toggle",function($){return r.toggleFavorite($)}),c(3),o()(),a(4,"a",3)(5,"h1"),c(6),o(),a(7,"p"),c(8),o(),a(9,"span"),c(10,"Read more..."),o(),a(11,"ul",4),u(12,B,2,1,"li",6,v),o()()()),s&2&&(n(),p("article",r.article),n(),p("article",r.article),n(),f(" ",r.article.favoritesCount," "),n(),p("routerLink",y(6,Q,r.article.slug)),n(2),D(r.article.title),n(2),D(r.article.description),n(4),d(r.article.tagList))},dependencies:[b,q,P],encapsulation:2});let e=t;return e})();var m=function(e){return e.NOT_LOADED="NOT_LOADED",e.LOADING="LOADING",e.LOADED="LOADED",e}(m||{});function V(e,t){e&1&&(a(0,"div",1),c(1,"Loading articles..."),o())}var j=(e,t)=>t.slug;function U(e,t){if(e&1&&F(0,"app-article-preview",3),e&2){let l=t.$implicit;p("article",l)}}function z(e,t){e&1&&(a(0,"div",1),c(1,"No articles are here... yet."),o())}var H=e=>({active:e});function J(e,t){if(e&1){let l=I();a(0,"li",4)(1,"button",5),_("click",function(){let r=x(l).$implicit,L=C(2);return E(L.setPageTo(r))}),c(2),o()()}if(e&2){let l=t.$implicit,i=C(2);p("ngClass",y(2,H,l===i.currentPage)),n(2),f(" ",l," ")}}function K(e,t){if(e&1&&(u(0,U,1,1,"app-article-preview",3,j,!1,z,2,0,"div",0),a(3,"nav")(4,"ul",2),u(5,J,3,4,"li",6,v),o()()),e&2){let l=C();d(l.results),n(5),d(l.totalPages)}}var me=(()=>{let t=class t{set config(i){i&&(this.query=i,this.currentPage=1,this.runQuery())}constructor(i){this.articlesService=i,this.results=[],this.currentPage=1,this.totalPages=[],this.loading=m.NOT_LOADED,this.LoadingState=m,this.destroyRef=T(S)}setPageTo(i){this.currentPage=i,this.runQuery()}runQuery(){this.loading=m.LOADING,this.results=[],this.limit&&(this.query.filters.limit=this.limit,this.query.filters.offset=this.limit*(this.currentPage-1)),this.articlesService.query(this.query).pipe(k(this.destroyRef)).subscribe(i=>{this.loading=m.LOADED,this.results=i.articles,this.totalPages=Array.from(new Array(Math.ceil(i.articlesCount/this.limit)),(s,r)=>r+1)})}};t.\u0275fac=function(s){return new(s||t)(O(M))},t.\u0275cmp=g({type:t,selectors:[["app-article-list"]],inputs:{limit:"limit",config:"config"},standalone:!0,features:[h],decls:2,vars:2,consts:[["class","article-preview"],[1,"article-preview"],[1,"pagination"],[3,"article"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click"],["class","page-item",3,"ngClass"]],template:function(s,r){s&1&&w(0,V,2,0,"div",0)(1,K,7,1,"nav"),s&2&&(A(0,r.loading===r.LoadingState.LOADING?0:-1),n(),A(1,r.loading===r.LoadingState.LOADED?1:-1))},dependencies:[R,N],styles:[".page-link[_ngcontent-%COMP%]{cursor:pointer}"]});let e=t;return e})();export{me as a};
