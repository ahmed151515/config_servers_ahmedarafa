import{a as A}from"./chunk-OWNJBPSF.js";import{Aa as v,C as y,Ca as g,Fa as f,Ha as h,I as b,Ia as j,Ja as E,L as l,La as I,Pa as M,Sa as L,X as D,ab as R,ba as C,bb as _,ca as a,da as p,eb as w,f as S,fb as T,ha as F,ma as s,sa as c,ta as o,ua as u,wa as k,ya as m,za as d}from"./chunk-OD32AHD5.js";var U=i=>["/profile",i],z=["*"],G=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l({type:e,selectors:[["app-article-meta"]],inputs:{article:"article"},standalone:!0,features:[f],ngContentSelectors:z,decls:10,vars:12,consts:[[1,"article-meta"],[3,"routerLink"],[3,"src"],[1,"info"],[1,"author",3,"routerLink"],[1,"date"]],template:function(r,t){r&1&&(m(),c(0,"div",0)(1,"a",1),u(2,"img",2),o(),c(3,"div",3)(4,"a",4),v(5),o(),c(6,"span",5),v(7),E(8,"date"),o()(),d(9),o()),r&2&&(a(),s("routerLink",h(8,U,t.article.author.username)),a(),s("src",t.article.author.image,C),a(2),s("routerLink",h(10,U,t.article.author.username)),a(),g(" ",t.article.author.username," "),a(2),g(" ",I(8,5,t.article.createdAt,"longDate")," "))},dependencies:[_,L],encapsulation:2,changeDetection:0});let i=e;return i})();var N=(i,e,B)=>({disabled:i,"btn-outline-primary":e,"btn-primary":B}),O=["*"],ie=(()=>{let e=class e{constructor(n,r,t){this.articleService=n,this.router=r,this.userService=t,this.destroyRef=D(F),this.isSubmitting=!1,this.toggle=new b}toggleFavorite(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(y(n=>n?this.article.favorited?this.articleService.unfavorite(this.article.slug):this.articleService.favorite(this.article.slug):(this.router.navigate(["/register"]),S)),T(this.destroyRef)).subscribe({next:()=>{this.isSubmitting=!1,this.toggle.emit(!this.article.favorited)},error:()=>this.isSubmitting=!1})}};e.\u0275fac=function(r){return new(r||e)(p(A),p(R),p(w))},e.\u0275cmp=l({type:e,selectors:[["app-favorite-button"]],inputs:{article:"article"},outputs:{toggle:"toggle"},standalone:!0,features:[f],ngContentSelectors:O,decls:3,vars:5,consts:[[1,"btn","btn-sm",3,"ngClass","click"],[1,"ion-heart"]],template:function(r,t){r&1&&(m(),c(0,"button",0),k("click",function(){return t.toggleFavorite()}),u(1,"i",1),d(2),o()),r&2&&s("ngClass",j(1,N,t.isSubmitting,!t.article.favorited,t.article.favorited))},dependencies:[M],encapsulation:2});let i=e;return i})();export{G as a,ie as b};
